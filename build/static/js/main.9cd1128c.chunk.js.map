{"version":3,"sources":["DirectorSettings.js","CustomField.js","OlimpSettingsList.js","api/api.js","App.js","serviceWorker.js","index.js"],"names":["DirectorSettings","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getData","state","specified","data","objectSpread","error","f","i","work","position","getTextField","label","name","required","arguments","length","undefined","react_default","a","createElement","TextField_default","showError","fullWidth","value","onChange","event","setState","defineProperty","target","o","degree","prevProps","prevState","snapshot","is","_this2","Typography_Typography_default","variant","color","style","padding","field","title","display","alignItems","Switch_default","checked","Collapse_Collapse_default","in","noValidate","autoComplete","paddingLeft","paddingBottom","Divider_default","Component","defaultProps","CustomField","theme","margin","marginTop","concat","OlimpSettingsSubList","check","fieldsData","next","subRefs","map","k","isError","thisRef","assertThisInitialized","selected","values","includes","sel","s","clear","filter","r","forEach","onSelectionChanged","clearSublist","subList","renderFields","fields","settingsListRef","args","key","type","src_CustomField","src_DirectorSettings","getContent","children","child","push","nextProps","nextState","nextContext","sublistProps","depth","topList","listRef","Paper_default","marginLeft","backgroundColor","List_default","subheader","ListSubheader_default","disableSticky","subhint","elem","index","core_ListItem_default","dense","button","onClick","multiselect","toConsumableArray","Checkbox_default","Radio_default","core_ListItemText_default","primary","text","secondary","hint","inset","secondaryTypographyProps","component","whiteSpace","Collapse_default","mountOnEnter","assign","ref","indexes","childID","nextChildProps","help","instruction","fullname","OlimpSettingsList","_this3","_this4","Button_default","OlimpSettingsList_OlimpSettingsSubList","id","clearFunc","api","API","host","method","httpMethod","params","url","httpRequest","credentials","headers","Content-type","Access-Control-Request-Method","mode","body","JSON","stringify","fetch","then","response","json","App","onDataLoaded","selectedDirections","entries","entry","direction","renderDirectionsList","ListItem_default","tabIndex","disableRipple","ListItemText_default","renderDirectionsSettings","Typography_default","verticalAlign","nextStep","step","src_OlimpSettingsList","olimpSettingsList","renderLoading","flex","width","justifyContent","flexDirection","submitData","ans","olimp","directionName","baseChildren","translateData","server","n","submitLoading","requestData","resp","window","location","href","res_code","catch","reason","console","log","app","flexFlow","minHeight","AppBar_default","Toolbar_default","noWrap","Stepper_default","activeStep","orientation","Step_default","StepLabel_default","StepContent_default","disabled","Popper_default","anchorEl","readyButton","open","transition","_ref","TransitionProps","Fade_default","timeout","Paper_Paper_default","buttonRef","keys","d","list","Boolean","hostname","match","__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9cd1128c.chunk.js","sourcesContent":["import {Component} from \"react\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport React from \"react\";\nimport * as PropTypes from \"prop-types\";\nimport Switch from \"@material-ui/core/Switch/Switch\";\nimport Collapse from \"@material-ui/core/Collapse/Collapse\";\nimport Divider from \"@material-ui/core/Divider/Divider\";\n\nclass DirectorSettings extends Component {\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!Object.is(this.state.data, prevState.data) || this.state.specified !== prevState.specified) {\n            this.props.onChange(this.getData());\n        }\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            specified: false,\n            data: {\n                f: \"\",\n                i: \"\",\n                o: \"\",\n                work: \"\",\n                degree: \"\",\n                position: \"\",\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.props.onChange(this.getData());\n    }\n\n    getData = () => {\n        if (!this.state.specified) {\n            return {\n                data: {specified: false}, error: false\n            }\n        }\n        return {\n            data: {...this.state}, error: (\n                this.state.data.f === \"\" ||\n                this.state.data.i === \"\" ||\n                this.state.data.work === \"\" ||\n                this.state.data.position === \"\"\n            )\n        }\n    };\n\n    getTextField = (label, name, required = true) => {\n        return (\n            <TextField\n                error={this.props.showError && this.state.data[name] === \"\" && required}\n                fullWidth\n                label={label}\n                value={this.state.data[name]}\n                onChange={event => {\n                    this.setState({\n                        data: {...this.state.data, [name]: event.target.value}\n                    })\n                }}\n            />\n        );\n    };\n\n    render() {\n        return (\n            <div>\n                <Typography variant={\"subtitle1\"} color={\"primary\"} style={{padding: 10}}>\n                    {this.props.field.title}\n                </Typography>\n                <div style={{\n                    display: \"flex\",\n                    alignItems: \"center\"\n                }}>\n                    <Switch\n                        checked={this.state.specified}\n                        onChange={event => {\n                            this.setState({\n                                specified: event.target.checked\n                            })\n                        }}\n                        color=\"primary\"\n                    />\n                    <Typography variant={\"subtitle2\"}>\n                        Научный руководитель определен\n                    </Typography>\n                </div>\n                <Collapse in={this.state.specified}>\n                    <form noValidate autoComplete=\"off\" style={{paddingLeft: 20, paddingBottom: 30}}>\n                        {this.getTextField(\"Фамилия*\", \"f\")}\n                        {this.getTextField(\"Имя*\", \"i\")}\n                        {this.getTextField(\"Отчество\", \"o\", false)}\n                        {this.getTextField(\"Место работы*\", \"work\")}\n                        {this.getTextField(\"Ученая степень\", \"degree\", false)}\n                        {this.getTextField(\"Должность*\", \"position\")}\n                    </form>\n                </Collapse>\n                <Divider/>\n            </div>\n        );\n    }\n}\n\nDirectorSettings.defaultProps = {\n    showError: false,\n};\n\nDirectorSettings.propTypes = {\n    onChange: PropTypes.func,\n    showError: PropTypes.bool,\n    field: PropTypes.object.isRequired,\n};\n\nexport default DirectorSettings;","import {Component} from \"react\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport React from \"react\";\nimport * as PropTypes from \"prop-types\";\nimport Divider from \"@material-ui/core/Divider/Divider\";\n\nclass CustomField extends Component {\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevState.theme !== this.state.theme) {\n            this.props.onChange(this.getData());\n        }\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            theme: \"\",\n        };\n    }\n\n    componentDidMount() {\n        this.props.onChange(this.getData());\n    }\n\n    getData = () => {\n        return {data: {data: this.state}, error: false}\n    };\n\n    render() {\n        return (\n            <div>\n                <Typography variant={\"subtitle1\"} color={\"primary\"} style={{padding: 12}}>\n                    {this.props.field.title}\n                </Typography>\n                <TextField\n                    style={{\n                        margin: 20,\n                        marginTop: 0,\n                    }}\n                    fullWidth\n                    label={`${this.props.field.title} (можно ввести позже)`}\n                    value={this.state.theme}\n                    onChange={event => {\n                        this.setState({\n                            theme: event.target.value\n                        });\n                    }}\n                />\n                <Divider/>\n            </div>\n        );\n    }\n}\n\nCustomField.defaultProps = {\n    showError: false,\n};\n\nCustomField.propTypes = {\n    onChange: PropTypes.func,\n    showError: PropTypes.bool,\n    field: PropTypes.object.isRequired,\n};\n\nexport default CustomField;","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\"\nimport Paper from \"@material-ui/core/Paper\";\nimport List from \"@material-ui/core/List/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Radio from \"@material-ui/core/Radio\";\nimport ListSubheader from \"@material-ui/core/ListSubheader/ListSubheader\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\nimport DirectorSettings from \"./DirectorSettings\";\nimport CustomField from \"./CustomField\";\n\n\nclass OlimpSettingsSubList extends Component {\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return (!Object.is(this.state.selected, nextState.selected) ||\n            this.props.showError !== nextProps.showError ||\n            !Object.is(this.state.fieldsData, nextState.fieldsData)\n        );\n    }\n\n    constructor(props) {\n        super(props);\n        this.fieldsData = null;\n        if (this.props.fields) {\n            this.fieldsData = {};\n            this.props.fields.forEach(field => {\n                this.fieldsData[field.name] = null;\n            })\n        }\n        this.state = {\n            selected: [],\n        };\n        this.subRefs = [];\n        this.props.children.forEach(child => {\n            this.subRefs.push(null);\n        })\n    }\n\n    check = () => {\n        return {\n            ...this.state, fieldsData: this.fieldsData, next:\n                this.subRefs.map(k => {\n                    if (k)\n                        return k.check();\n                    return null\n                })\n        };\n    };\n\n    isError = () => {\n        let thisRef = this;\n        return (\n            this.state.selected.length === 0 ||\n            (this.fieldsData && Object.values(this.fieldsData).includes(null)) ||\n            this.state.selected.map(sel => {\n                let s = thisRef.subRefs[sel];\n                if (s)\n                    return s.isError();\n                return false;\n            }).includes(true))\n    };\n\n    clear = () => {\n        this.setState({\n            selected: []\n        });\n        this.subRefs.filter(r => !!r).forEach((r) => r.clear());\n        this.props.onSelectionChanged();\n    };\n\n    clearSublist = (i) => {\n        let subList = this.subRefs[i];\n        if (subList)\n            subList.clear();\n    };\n\n    renderFields = () => {\n        if (!this.props.fields)\n            return null;\n\n        let settingsListRef = this;\n\n        return this.props.fields.map(field => {\n\n            let args = {\n                field: field,\n                onChange: (data) => {\n                    this.fieldsData[field.name] = data.error ? null : data.data;\n                    this.props.onSelectionChanged();\n                },\n                showError: settingsListRef.props.showError,\n                key: field.name\n            };\n            let getContent = () => {\n                switch (field.type) {\n                    case \"field\":\n                        return <CustomField {...args}/>;\n                    case \"director\":\n                        return <DirectorSettings {...args}/>;\n                    default:\n                        return null;\n                }\n            };\n\n            return getContent();\n        })\n    };\n\n    render() {\n        let sublistProps = {\n            depth: this.props.depth + 1,\n            onSelectionChanged: this.props.onSelectionChanged,\n            showError: this.props.showError,\n            topList: this.props.topList\n        };\n\n        let showError = this.props.showError && this.state.selected.length === 0;\n\n        let listRef = this;\n\n        return (\n            <Paper\n                style={{\n                    marginLeft: 8,\n                    backgroundColor: showError ? \"#ff9292\" : \"#fff\"\n                }}>\n                <List\n                    subheader={\n                        <ListSubheader\n                            disableSticky\n                        >\n                            {this.props.subhint ? this.props.subhint : null}\n                            {this.renderFields()}\n                        </ListSubheader>\n                    }>\n\n                    {this.props.children.map((elem, index) => {\n                        let selected = this.state.selected.includes(index);\n\n                        let toggle = () => {\n                            if (listRef.props.multiselect) {\n                                if (listRef.state.selected.includes(index)) {\n                                    listRef.clearSublist(index);\n                                    listRef.setState({\n                                        selected: listRef.state.selected.filter(i => i !== index)\n                                    });\n                                }\n                                else {\n                                    listRef.setState({\n                                        selected: [...listRef.state.selected, index]\n                                    });\n                                }\n                            }\n                            else {\n                                if (listRef.state.selected[0] === index) {\n                                    listRef.clearSublist(index);\n                                    listRef.setState({\n                                        selected: []\n                                    });\n                                }\n                                else {\n                                    listRef.setState({\n                                        selected: [index]\n                                    });\n                                }\n                            }\n\n                            this.props.onSelectionChanged();\n                        };\n\n                        return (\n                            <div key={index}>\n                                <ListItem dense\n                                          button\n                                          onClick={() => {\n                                              toggle();\n                                          }}>\n\n                                    {this.props.multiselect ?\n                                        <Checkbox checked={selected}/> :\n                                        <Radio checked={selected}/>}\n\n                                    <ListItemText primary={elem.text}\n                                                  secondary={elem.hint}\n                                                  inset\n                                                  secondaryTypographyProps={{\n                                                      component: \"pre\",\n                                                      style: {\n                                                          whiteSpace: \"pre-wrap\"\n                                                      }\n                                                  }}/>\n                                </ListItem>\n                                <Collapse in={selected} mountOnEnter>\n                                    {elem.children ?\n                                        <OlimpSettingsSubList\n                                            {...sublistProps}\n                                            ref={(r) => {\n                                                this.subRefs[index] = r;\n                                            }}\n                                            subhint={elem.subhint}\n                                            fields={elem.fields}\n                                            multiselect={elem.multiselect}\n                                            indexes={[...this.props.indexes, {\n                                                index: index,\n                                                fieldsData: this.fieldsData\n                                            }]}\n                                            children={elem.children.map((child, childID) => {\n                                                let nextChildProps = {\n                                                    multiselect: child.multiselect,\n                                                    text: child.title,\n                                                    hint: child.hint ? child.hint.help : null,\n                                                    subhint: child.hint ? child.hint.instruction : null,\n                                                    fields: child.fields,\n                                                };\n                                                if (child.children) {\n                                                    return {\n                                                        ...nextChildProps,\n                                                        children: child.children,\n                                                    }\n                                                }\n                                                return {\n                                                    text: `${child.name} - ${child.fullname}`\n                                                }\n                                            })}/>\n                                        : null}\n                                </Collapse>\n                            </div>\n                        )\n                    })}\n                </List>\n            </Paper>\n        );\n    }\n}\n\n\nclass OlimpSettingsList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.children = this.props.children;\n    }\n\n    clear = () => {\n        this.listRef.clear();\n        if (this.props.onSelectionChanged)\n            this.props.onSelectionChanged();\n    };\n\n    check = () => {\n        return this.listRef.check();\n    };\n\n    isError = () => {\n        return this.listRef.isError();\n    };\n\n    render() {\n        return (\n            <div>\n                <Typography variant={\"subtitle1\"} color={\"primary\"} style={{padding: 10}}>\n                    {this.props.instruction}\n                </Typography>\n                <Button color={\"primary\"} variant={\"contained\"} onClick={() => this.clear()} style={{\n                    margin: 8\n                }}>\n                    Отменить выбор\n                </Button>\n                <OlimpSettingsSubList\n                    ref={r => this.listRef = r}\n                    children={this.props.children.map((child, id) => {\n                        return {\n                            children: child.children,\n                            fields: child.fields,\n                            text: child.title,\n                            multiselect: child.multiselect,\n                            hint: child.hint ? child.hint.help : null,\n                            subhint: child.hint ? child.hint.instruction : null,\n                        }\n                    })}\n                    multiselect={this.props.multiselect}\n                    topList={this}\n                    onSelectionChanged={() => this.props.onSelectionChanged()}\n                    indexes={[]}\n                    clearFunc={this.clear}\n                    showError={this.props.showError}\n                    depth={0}\n                />\n            </div>\n        );\n    }\n}\n\nOlimpSettingsList.defaultProps = {\n    multiselect: false,\n};\n\nOlimpSettingsList.propTypes = {\n    instruction: PropTypes.string,\n    children: PropTypes.array.isRequired,\n    multiselect: PropTypes.bool,\n    showError: PropTypes.bool.isRequired\n};\n\nexport default OlimpSettingsList;","class API {\n\n    constructor() {\n        this.host = \"https://olymp.bmstu.ru/api/personal\";\n    }\n\n    requestData(method, httpMethod, params) {\n        // console.log('ReqMeth:'+httpMethod);\n        const url = this.host + '/' + method;\n        const httpRequest = {\n            credentials: 'include',\n            method: httpMethod,\n            headers: {\n                'Content-type': 'application/json',\n                'Access-Control-Request-Method': httpMethod\n            },\n            mode: 'cors',\n            body: null\n        };\n\n        if(httpMethod === 'POST' && typeof params !== 'undefined') {\n            httpRequest.body = JSON.stringify(params);\n        }\n\n        return fetch(url, httpRequest).then(\n            function(response) {\n                response = response.json();\n                return response;\n            },\n            function(response) {\n                return response;\n            }\n        );\n    }\n\n}\n\nexport default new API();","import React, {Component} from 'react';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent/StepContent\";\nimport List from \"@material-ui/core/List/List\";\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\nimport ListItem from \"@material-ui/core/ListItem/ListItem\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport Divider from \"@material-ui/core/Divider/Divider\";\nimport OlimpSettingsList from \"./OlimpSettingsList\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport Fade from \"@material-ui/core/Fade/Fade\";\nimport api from \"./api/api\";\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.api = api;\n        this.state = {\n            data: null,\n            selectedDirections: null,\n            step: 0,\n\n            showError: false,\n\n            submitLoading: false\n        };\n        this.olimpSettingsList = {};\n        //\n        // fetch(\"http://195.19.59.194:80\")\n        //     .then((data) => {return data.json()})\n        //     .then((json) => this.onDataLoaded(json[\"answer\"][0]));\n\n        fetch(\"data/db.json\")\n            .then((data) => {\n                return data.json()\n            })\n            .then((json) => this.onDataLoaded(json[\"answer\"][0]))\n            .catch((reason => {\n                console.log(reason);\n            }));\n\n        // setTimeout(() => {\n        //     let data = sampleData[\"answer\"][0];\n        //     this.onDataLoaded(data);\n        //\n        // }, 1000)\n    }\n\n    onDataLoaded = (data) => {\n        // console.log(data);\n        let selectedDirections = {};\n\n        Object.entries(data.children).map(entry => entry[1]).forEach(direction => {\n            selectedDirections[direction.title] = false;\n        });\n\n        this.setState({\n            selectedDirections: selectedDirections,\n            data: data\n        })\n    };\n\n    renderDirectionsList = () => {\n        return (\n            <List>\n                {Object\n                    .entries(this.state.data.children)\n                    .map(entry => entry[1])\n                    .map((direction) => {\n                        return (\n                            <ListItem dense button key={direction.title} onClick={() => {\n                                this.setState({\n                                        selectedDirections: {\n                                            ...this.state.selectedDirections,\n                                            [direction.title]: !this.state.selectedDirections[direction.title]\n                                        }\n                                    }\n                                );\n                            }}>\n                                <Checkbox\n                                    checked={this.state.selectedDirections[direction.title]}\n                                    tabIndex={-1}\n                                    disableRipple\n                                />\n                                <ListItemText primary={direction.title}\n                                              inset\n                                              secondary={direction.hint.help}\n                                              secondaryTypographyProps={{\n                                                  component: \"pre\",\n                                                  style: {\n                                                      whiteSpace: \"pre-wrap\"\n                                                  }\n                                              }}/>\n                            </ListItem>\n                        );\n                    })}\n            </List>\n        );\n    };\n\n    renderDirectionsSettings = () => {\n        let directions = this.state.data.children.map(direction => {\n            if (this.state.selectedDirections[direction.title]) {\n                return direction;\n            }\n            return null;\n        }).filter(direction => direction != null);\n\n        return directions.map(direction => {\n            return (\n                <div key={direction.title} style={{marginTop: 40}}>\n                    <Divider/>\n                    <div>\n                        <Typography variant={\"h5\"} color={\"primary\"}\n                                    style={{display: \"inline-block\", margin: 10, verticalAlign: \"middle\"}}>\n                            {direction.title}\n                        </Typography>\n                        <Button color={\"secondary\"} variant={\"outlined\"}\n                                style={{display: \"inline-block\", margin: 10, verticalAlign: \"middle\"}}\n                                onClick={() => {\n                                    let nextStep = 1;\n                                    if (Object\n                                        .values(this.state.selectedDirections)\n                                        .filter(selected => selected).length === 1) {\n                                        nextStep = 0;\n                                    }\n                                    this.setState({\n                                            selectedDirections: {\n                                                ...this.state.selectedDirections,\n                                                [direction.title]: !this.state.selectedDirections[direction.title]\n                                            },\n                                            step: nextStep,\n                                            showError: false\n                                        }\n                                    );\n                                }}\n                        >\n                            Не участвовать в этой олимпиаде\n                        </Button>\n                    </div>\n\n                    {direction.children.length !== 0 &&\n                    <OlimpSettingsList\n                        ref={i => {\n                            this.olimpSettingsList[direction.title] = i\n                        }}\n                        multiselect={direction.multiselect}\n                        instruction={direction.hint.instruction}\n                        children={direction.children}\n                        showError={this.state.showError}\n                        onSelectionChanged={() => {\n                            if (this.state.showError) {\n                                this.setState({\n                                    showError: false\n                                });\n                            }\n                        }}\n                    />}\n                </div>\n            );\n        });\n    };\n\n    renderLoading = () => {\n        return (\n            <div style={{\n                position: \"relative\",\n                flex: \"1 1 auto\",\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                flexDirection: \"column\"\n            }}>\n                <Typography variant={\"h5\"}>\n                    Загрузка...\n                </Typography>\n            </div>\n        );\n    };\n\n    submitData = (data) => {\n        let translateData = (data, server) => {\n            return {\n                fieldsData: data.fieldsData,\n\n                next: data.next.map((n, id) => {\n                    if (n == null)\n                        return null;\n                    return {id: id, data: translateData(n, server.children[id])}\n                }).filter(n => n != null),\n\n                selected: server.children.map((child, id) => {\n                    if (data.selected.includes(id))\n                        return child.title || child.id;\n                    return null;\n                }).filter(child => child != null)\n            };\n        };\n\n        let ans = data.map(olimp => {\n            let directionName = olimp.olimp;\n            let baseChildren = this.state.data.children.filter(child => child.title === directionName)[0];\n            if (baseChildren.children.length === 0) {\n                return {olimp: directionName, data: {}};\n            }\n            return {olimp: directionName, data: translateData(olimp.data, baseChildren)};\n        });\n\n        this.setState({\n            submitLoading: true\n        });\n\n        this.api.requestData(\"olymps\", \"POST\", ans)\n            .then((resp) => {\n                window.location.href = `https://olymp.bmstu.ru/?from=olymps&res_code=${resp.res_code}`;\n            })\n            .catch((error) => {\n                this.setState({\n                    submitLoading: false\n                })\n            });\n    };\n\n    render() {\n        let app = this;\n        return (\n            <div style={{\n                display: \"flex\",\n                flexFlow: \"column\",\n                minHeight: \"100vh\",\n                width: \"100%\"\n            }}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Typography variant={\"h6\"} color=\"inherit\" noWrap>\n                            Выберите олимпиады\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n                {this.state.data == null ? this.renderLoading() : (\n                    <div>\n                        <Typography variant={\"h4\"} color={\"primary\"} style={{padding: 24, paddingBottom: 0}}>\n                            {this.state.data.title}\n                        </Typography>\n                        <Stepper activeStep={this.state.step} orientation=\"vertical\">\n                            <Step>\n                                <StepLabel>Выберите направления</StepLabel>\n                                <StepContent>\n                                    {this.renderDirectionsList()}\n                                    <Button\n                                        color={\"primary\"}\n                                        variant={\"outlined\"}\n                                        style={{marginLeft: 28}}\n                                        onClick={() => {\n                                            this.setState({step: 1})\n                                        }}\n                                        disabled={\n                                            !Object.values(this.state.selectedDirections).includes(true)\n                                        }\n                                    >\n                                        Далее\n                                    </Button>\n                                </StepContent>\n                            </Step>\n                            <Step>\n                                <StepLabel>Заполните данные</StepLabel>\n                                <StepContent>\n                                    <Button\n                                        color={\"primary\"}\n                                        variant={\"outlined\"}\n                                        style={{margin: 8}}\n                                        onClick={() => {\n                                            this.setState({step: 0, showError: false})\n                                        }}\n                                    >\n                                        Назад (выбрать другие направления)\n                                    </Button>\n                                    <Popper anchorEl={this.readyButton}\n                                            open={this.state.showError}\n                                            transition>\n                                        {({TransitionProps}) => (\n                                            <Fade {...TransitionProps} timeout={250}>\n                                                <Paper style={{backgroundColor: \"#ff9292\", padding: 12}}>\n                                                    <Typography>\n                                                        Все поля должны быть заполнены\n                                                    </Typography>\n                                                </Paper>\n                                            </Fade>\n                                        )}\n                                    </Popper>\n                                    {this.renderDirectionsSettings()}\n                                    <div\n                                        style={{margin: 8, marginTop: 50}}>\n                                        <Button\n                                            disabled={this.state.submitLoading}\n                                            color={\"primary\"}\n                                            variant={\"contained\"}\n                                            fullWidth\n                                            buttonRef={(r) => {\n                                                this.readyButton = r;\n                                            }}\n                                            onClick={() => {\n                                                let ans = Object.keys(app.state.selectedDirections)\n                                                    .filter(k => {\n                                                        return app.state.selectedDirections[k];\n                                                    })\n                                                    .map(d => {\n                                                        let list = app.olimpSettingsList[d];\n                                                        if (!list)\n                                                            return {olimp: d, data: {}};\n                                                        if (list.isError())\n                                                            return null;\n                                                        return {olimp: d, data: list.check()};\n                                                    });\n\n                                                if (ans.includes(null)) {\n                                                    this.setState({\n                                                        showError: true\n                                                    });\n                                                    return;\n                                                }\n                                                app.submitData(ans)\n                                            }}>\n                                            Готово\n                                        </Button>\n                                    </div>\n                                </StepContent>\n                            </Step>\n                        </Stepper>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nwindow.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}